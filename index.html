<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸŒ™ ØªØ­Ø¯ÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ</title>

<style>
body{
  direction: rtl;
  font-family: Tahoma;
  background: linear-gradient(#0f2027,#203a43,#2c5364);
  color:white;
  text-align:center;
}
.box{
  background:white;
  color:black;
  padding:20px;
  margin:15px auto;
  max-width:420px;
  border-radius:12px;
  box-shadow:0 0 10px #000;
}
button{
  padding:10px 15px;
  margin:5px;
  border:none;
  border-radius:8px;
  background:#27ae60;
  color:white;
  cursor:pointer;
}
.progress{
  background:#ddd;
  border-radius:20px;
  overflow:hidden;
  margin-bottom:10px;
}
.progress-bar{
  height:20px;
  background:#27ae60;
}
</style>
</head>

<body>

<h1>ğŸŒ™ ØªØ­Ø¯ÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠ</h1>
<p>ğŸ¤ Ù„Ø§ ØªÙ†Ø³Ù Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù„ÙˆØ§Ù„Ø¯ÙŠÙƒ</p>

<div class="box">
  <input id="name" placeholder="Ø§Ø³Ù…Ùƒ"><br><br>
  <input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±"><br><br>
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div id="panel" class="box" style="display:none">
  <h2 id="welcome"></h2>

  <h3>ğŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h3>
  Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø©: <b><span id="pages">0</span></b><br>
  Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©: <b><span id="juz">0</span></b><br>
  Ø§Ù„Ø­Ø³Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©: <b><span id="hasanat">0</span></b><br><br>

  <button onclick="addPages(1)">+ ØµÙØ­Ø©</button>
  <button onclick="addPages(5)">+ 5 ØµÙØ­Ø§Øª</button>
  <button onclick="addPages(10)">+ 10 ØµÙØ­Ø§Øª</button>

  <p id="message" style="margin-top:10px;color:green"></p>
  <p>âœ¨ ÙˆØ§Ù„Ù„Ù‡ ÙŠØ¶Ø§Ø¹Ù Ù„Ù…Ù† ÙŠØ´Ø§Ø¡ âœ¨</p>
</div>

<div class="box">
  <h3>ğŸ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ (Ø§Ù„Ù‚Ø±Ø¢Ù†)</h3>
  <div id="challenge"></div>
</div>

<script>
let user="";

function login(){
  const n=name.value;
  const p=pass.value;
  if(!n||!p) return alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±");

  user=n;

  if(!localStorage[n]){
    localStorage[n]=JSON.stringify({
      pass:p,
      pages:0,
      juz:0
    });
  }

  const data=JSON.parse(localStorage[n]);
  if(data.pass!==p) return alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø·Ø£");

  panel.style.display="block";
  welcome.innerText="Ø£Ù‡Ù„Ù‹Ø§ "+n;
  updateUI();
  loadChallenge();
}

function addPages(num){
  const data=JSON.parse(localStorage[user]);
  const oldJuz=data.juz;

  data.pages+=num;
  data.juz=Math.floor(data.pages/20);
  localStorage[user]=JSON.stringify(data);

  if(data.juz>oldJuz){
    message.innerText="ğŸ‰ Ù…Ø¨Ø§Ø±Ùƒ! Ø£ØªÙ…Ù…Øª Ø¬Ø²Ø¡Ù‹Ø§ ÙƒØ§Ù…Ù„Ù‹Ø§ØŒ Ø¬Ø¹Ù„Ù‡ Ø§Ù„Ù„Ù‡ ÙÙŠ Ù…ÙŠØ²Ø§Ù† Ø­Ø³Ù†Ø§ØªÙƒ";
  }else{
    message.innerText="ğŸŒ¸ ØªÙ‚Ø¨Ù‘Ù„ Ø§Ù„Ù„Ù‡ ØªÙ„Ø§ÙˆØªÙƒ ÙˆÙ†ÙˆÙ‘Ø± Ø¨Ù‡Ø§ Ù‚Ù„Ø¨Ùƒ";
  }

  updateUI();
  loadChallenge();
}

function updateUI(){
  const data=JSON.parse(localStorage[user]);
  pages.innerText=data.pages;
  juz.innerText=data.juz;
  hasanat.innerText=data.pages*100; // ØªÙ‚Ø¯ÙŠØ±ÙŠ
}

function loadChallenge(){
  let html="";
  for(let k in localStorage){
    try{
      const d=JSON.parse(localStorage[k]);
      if(d.pages!==undefined){
        const percent=Math.min(d.pages/604*100,100);
        html+=`
          <p>${k}</p>
          <div class="progress">
            <div class="progress-bar" style="width:${percent}%"></div>
          </div>
        `;
      }
    }catch{}
  }
  challenge.innerHTML=html;
}
</script>

</body>
</html>
